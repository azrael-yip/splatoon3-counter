# 🐟 Splatoon 3 打工武器紀錄統計工具 (v6.2 使用說明)

本工具是一個純前端網頁程式，用於讀取 **stat.ink** 的打工 (Salmon Run) 紀錄，並統計您在 **最新一輪班表 (Current Rotation)** 內使用過的武器次數。

---

## 📋 前置準備

- [x] 擁有 **Nintendo Switch Online** 帳號。
- [x] 擁有 **[stat.ink](https://stat.ink/)** 帳號。
- [x] 擁有 **KOOK** 帳號（用於使用「小魷魷」機器人進行資料上傳）。

---

## 🚀 階段一：資料同步 (將遊戲資料上傳至 stat.ink)

為了讓工具能讀取資料，您必須先透過第三方工具將 Switch 的紀錄上傳到雲端。

### 1. 綁定 NS 帳號至「小魷魷」
1.  在 KOOK 中找到「小魷魷」機器人，並 **「登錄 / 綁定」**。
2.  按照指引登入您的 **Nintendo Account**。
3.  綁定成功後，您應該能在小魷魷內看到您最近的對戰與打工紀錄。

### 2. 設定 stat.ink 同步
1.  登入 [stat.ink](https://stat.ink/) 網站。
2.  點擊右上角頭像，選擇 **「Profile and Settings (設置)」**。
3.  點擊 **「API Token」** 分頁。
4.  複製您的 `API Token`。
5.  回到「小魷魷」：
    * 按指引進行同步設定。
    * 貼上 API Token。
6.  **請等待同步完成**，確保您的打工紀錄已成功上傳至 stat.ink。

---

## 📊 階段二：使用統計工具 (兩種方法)

### 方法 A：API 線上同步 (推薦，但需設定環境) ☁️

此方法可直接從 stat.ink 伺服器讀取數據，免下載檔案。

1.  用瀏覽器開啟 `index.html`。
2.  在 **「Stat.ink ID」** 欄位輸入您的用戶名。
    > 💡 **提示**：用戶名是您個人主頁網址 `@` 後面的文字，例如 `https://stat.ink/@你的ID`。
3.  點擊 **「☁️ 同步」** 按鈕。
4.  工具會自動抓取最近 50 場紀錄並進行統計。

> ⚠️ **關於 API 錯誤 (CORS) 的重要說明**
> 由於瀏覽器安全性限制，直接雙擊打開 HTML (`file://`) 可能會被阻擋連線。
> **解決方案：**
> 1. (推薦) 在 VS Code 中安裝 **Live Server** 套件，右鍵選擇 `Open with Live Server`。
> 2. 或者安裝瀏覽器的 **"Allow CORS"** 擴充功能 (僅限開發時使用)。
> 3. 如果無法解決，請使用下方的「方法 B」。

<br>

### 方法 B：檔案拖曳導入 (最穩定，無需設定) 📂

如果您不想處理 CORS 問題，或想分析舊的備份檔。

1.  前往 stat.ink 的個人資料匯出頁面：[https://stat.ink/profile](https://stat.ink/profile)
2.  向下滑動找到 **「匯出 (斯普拉遁3)」** 區域。
3.  下載 **Salmon Run (JSON)** 檔案 (通常為 `statink-salmon-[ID].json.gz`)。
4.  **直接拖曳** 下載的 `.gz` 或 `.json` 檔案到網頁中間的 **虛線框** 內。
    > ✅ **更新**：本工具 (v6.0+) 已內建解壓縮功能，您**不需要**手動解壓 `.gz` 檔。

---

## 💡 常見問題 (Q&A)

**Q: 為什麼顯示「沒有新紀錄」？**
> **A:** 本工具預設只計算 **「最新一輪班表 (Current Rotation)」** 的數據。如果您匯入的 50 場紀錄都是舊班表的，工具會自動過濾掉，請確認您最近有進行打工並已完成同步。

**Q: 我是 stat.ink 的私密帳號 (Private Account)，能用 API 同步嗎？**
> **A:** 可以。請在 API 面板的「Token」欄位貼上您的 API Token，即可讀取私密紀錄。

**Q: 為什麼有些武器顯示為「未知」？**
> **A:** 官方若推出了新賽季武器（如新屬性印章或新傘），stat.ink 的代碼可能會更新。請下載最新版本的 `index.html` 以更新武器字典。

**Q: 我想看歷史所有場次的統計，不只是這一輪？**
> **A:** 目前版本設計為專注於當前輪替的武器使用率。若需統計歷史總和，需修改程式碼移除 `latestShiftFrom` 的過濾邏輯。